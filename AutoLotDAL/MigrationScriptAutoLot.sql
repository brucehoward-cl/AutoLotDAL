CREATE TABLE [dbo].[CreditRisks] (
    [CustID] [int] NOT NULL IDENTITY,
    [FirstName] [nvarchar](50),
    [LastName] [nvarchar](50),
    CONSTRAINT [PK_dbo.CreditRisks] PRIMARY KEY ([CustID])
)
CREATE TABLE [dbo].[Customers] (
    [CustID] [int] NOT NULL IDENTITY,
    [FirstName] [nvarchar](50),
    [LastName] [nvarchar](50),
    CONSTRAINT [PK_dbo.Customers] PRIMARY KEY ([CustID])
)
CREATE TABLE [dbo].[Orders] (
    [OrderId] [int] NOT NULL IDENTITY,
    [CustId] [int] NOT NULL,
    [CarId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Orders] PRIMARY KEY ([OrderId])
)
CREATE INDEX [IX_CustId] ON [dbo].[Orders]([CustId])
CREATE INDEX [IX_CarId] ON [dbo].[Orders]([CarId])
CREATE TABLE [dbo].[Inventories] (
    [CarId] [int] NOT NULL IDENTITY,
    [Make] [nvarchar](50),
    [Color] [nvarchar](50),
    [PetName] [nvarchar](50),
    CONSTRAINT [PK_dbo.Inventories] PRIMARY KEY ([CarId])
)
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [FK_dbo.Orders_dbo.Customers_CustId] FOREIGN KEY ([CustId]) REFERENCES [dbo].[Customers] ([CustID]) ON DELETE CASCADE
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [FK_dbo.Orders_dbo.Inventories_CarId] FOREIGN KEY ([CarId]) REFERENCES [dbo].[Inventories] ([CarId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202009231850332_Initial', N'AutoLotDAL.Migrations.Configuration',  0x1F8B0800000000000400ED5ADB6EE336107D2FD07F10F45864AD641705B681BD8BD4490AA3B9214E167D0B1869EC084B51AA4805318A7E591FFA49FD858EEE1229EAE25B82C5222F31C9B970E6CC703CE3FFFEF977FCF9C5A3C63384DCF5D9C43C1A1D9A0630DB775CB69C989158BCFB687EFEF4E30FE333C77B31BEE4E73EC4E79092F189F92444706C59DC7E028FF091E7DAA1CFFD8518D9BE6711C7B7DE1F1EFE621D1D59802C4CE46518E3DB8809D783E4037E9CFACC864044845EFA0E509EADE3CE3CE16A5C110F78406C98982791F02F7C717A72313A3B378D13EA1254620E74611A84315F10812A1EDF73988BD067CB79800B84DEAD02C0730B423964AA1F97C7FBDEE2F07D7C0BAB24CC59D91117BE3790E1D187CC2C964CBE9671CDC26C68B83334B058C5B74E8C3731A72138AEB875F957D390C51D4F69181FAD593775C5A8A43B30CADD83020B0899F8EFC098465444214C18442224F4C0B8891EA96BFF0EAB3BFF2BB0098B28ADAA884AE25E6D01976E423F8050AC6E61912B8ECACE4E4DC3AAD35A3271412AD1A5179B31F1E1BD695CA112E4914281848A11E6C20FE13760101201CE0D11024274E4CC81C4968A0692BC7337E422FE371789F8C328328D4BF272016C299E26E6CF1836E7EE0B38F942A6C53D7331E6904684117409BA20BB9033B64AC8B40329010F84036194517D07D1B70C229473459EDD65620B49E275E8A0B74DE31668B2CD9FDC204DDCA364EBA104D679E87BB73ECD898A9D873B122E41A0CE7EE3F6DC8F427B5D5C27BC86813A2179254427B267CE70481784FBC27412439DF23A78901E2AF7456209B44DB098834D83C51CAA7D959AB16734A71FAE1AB52A761FF2302AF592F79428510E6C1427154587C44A41F65A2F00592B5A7A016F7BB17249BEEE3CF54F7DEA87BB1672036FE77919143C72586BA3AB4FF09C70EEDB6EA24F55CD32BDD42F77C61CA33DD7A4C62CF2141A14C3C50D304050FAC4FC49B197966591244A9665D2AB733D32E5F0BA66A74041807162A7DF76A684DBC451DD857671EA2B189110C6C140287EEDE318E32E136AF8BACC7603425B7597A806147EB166850C79E714026071BCB6FAA2B77025E9C4C20B1992B9BAAC33B62A906A479A827A1D30F4215042A392F4656CE811A77F9806C3782DD4E82ED6CB754DCFC520D8E86EBF91F4ADE326CD5B48239002C24C7EF642279B2EF08697FE9E43F6D8F32C53CB2888F9CE4128ED07E45626CB3CF3549A130A9C2446591C36B22912580793FC1D50386470EC20AF4483C2A1B22771A97840D2A4526E560E3517A432243ADF8C42F9F2DA0AAE3A5F890A938A03E4645FBF618FDBAB2FB37AFFF63CD62F9355D4D7FAA75FEAEAB4668B15F22AA188B6B2CF69A58DCEBC216A693AA2E34B12045848553AA4D98A314FDBA3D377F3E1CD432FE561D9BCA18758685B4842BB902548BB715DE940D2BF3825823C92B8969B3A9E724CCE2D9A50CBA5A9E943F55A1E82394DFC7F2D91A5DDE26A9A51B370467C8E77F3E22C9E54F255DCB710279D6A4249A8691F61C91D79ACBD22D173A93485AA8C2ACBFD79957D9F2AAB7255E534B624CB288F92E200A506ACFBB49FC78B34B381BF3549B38FB7B5A4DF7DBD755F6B137B5F47A7CFF6702F6BE874062D5A67557B6A1A719D50711AA0328C0B5174D1D48DAFE6D8F2B15DDFB75A1E3DFCDB42BB0DABEA78A45D9C2A8B7465806FD31E4D4D8B74A93F8FA20553E5522CEE19234AED231F29A417359054EB8CB3BAA37B44AC1422E911D340033DBB4E5C84CC575C80378A0F8CE67FD22975F1BEE5814BC2DC057091B61C4DAC933E4AA3E6B733F6B5387768EFD9EFABCDCEDCD8BE9DDDD1816301655CC69E49683F9150E934968CD7998EADC576F844F5BB73DE9E731A4A84FD0EE876E29BFA4C2E11A1B47866CC819789F95742726CCCFE7848A90E8C44C363E3D0F87BB3415E6FB931D100B16BCCB25E69A2B413E75687485B8AB9DACC684B3CA511D156C378EDC14BD989DBF76044EAC1EDAD4BDEF2257977E3946F717CB2F9C064BF8E6FFB62B58B81C800C7BFF2F843ED64F61D6E74CC36D22F2213D379F4D1CD6952AB4D467A0E3F5A671F8D42B44DFBC6D1887E32D2C45CD3085F736AD22421DF4E66517B1EABC836AFB7073B6729EAC8E00DCF4DD698946C7EC9016311B50580B15FF92D39E61CEE2E4B16F12FCB19D8B5A82FCECCD8C2CF738FA4517E442EAC40100753C24928DC05B1056EDBC079F2CB962F844678E4CC7B0467C6AE23114402AF0CDE23AD19304E626DF293D94F5DE7F17590FCA2651B5740355DBC025CB35F23973A85DEE70D55B486459C1DB36A35F6A588ABD6E5AAE074E5B39E8C32F31549FD0EBC8022337ECDE6E419D6D1ED9EC3052C89BDCA3B397A26DD8EA89B7D7CEA9265483C9EF128E9F12362D8F15E3EFD0F953610DB52310000 , N'6.4.4')

IF object_id(N'[dbo].[FK_dbo.Orders_dbo.Customers_CustId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Orders] DROP CONSTRAINT [FK_dbo.Orders_dbo.Customers_CustId]
IF object_id(N'[dbo].[FK_dbo.Orders_dbo.Inventories_CarId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Orders] DROP CONSTRAINT [FK_dbo.Orders_dbo.Inventories_CarId]
EXECUTE sp_rename @objname = N'dbo.Orders.CustId', @newname = N'CustomerId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Orders.IX_CustId', @newname = N'IX_CustomerId', @objtype = N'INDEX'
ALTER TABLE [dbo].[CreditRisks] DROP CONSTRAINT [PK_dbo.CreditRisks]
ALTER TABLE [dbo].[Customers] DROP CONSTRAINT [PK_dbo.Customers]
ALTER TABLE [dbo].[Orders] DROP CONSTRAINT [PK_dbo.Orders]
ALTER TABLE [dbo].[Inventories] DROP CONSTRAINT [PK_dbo.Inventories]
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CreditRisks')
AND col_name(parent_object_id, parent_column_id) = 'CustID';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CreditRisks] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[CreditRisks] DROP COLUMN [CustID]
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Customers')
AND col_name(parent_object_id, parent_column_id) = 'CustID';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Customers] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[Customers] DROP COLUMN [CustID]
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Orders')
AND col_name(parent_object_id, parent_column_id) = 'OrderId';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Orders] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[Orders] DROP COLUMN [OrderId]
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Inventories')
AND col_name(parent_object_id, parent_column_id) = 'CarId';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Inventories] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[Inventories] DROP COLUMN [CarId]
ALTER TABLE [dbo].[CreditRisks] ADD [Id] [int] NOT NULL IDENTITY
ALTER TABLE [dbo].[CreditRisks] ADD [Timestamp] rowversion NOT NULL
ALTER TABLE [dbo].[Customers] ADD [Id] [int] NOT NULL IDENTITY
ALTER TABLE [dbo].[Customers] ADD [Timestamp] rowversion NOT NULL
ALTER TABLE [dbo].[Orders] ADD [Id] [int] NOT NULL IDENTITY
ALTER TABLE [dbo].[Orders] ADD [Timestamp] rowversion NOT NULL
ALTER TABLE [dbo].[Inventories] ADD [Id] [int] NOT NULL IDENTITY
ALTER TABLE [dbo].[Inventories] ADD [Timestamp] rowversion NOT NULL
ALTER TABLE [dbo].[CreditRisks] ADD CONSTRAINT [PK_dbo.CreditRisks] PRIMARY KEY ([Id])
ALTER TABLE [dbo].[Customers] ADD CONSTRAINT [PK_dbo.Customers] PRIMARY KEY ([Id])
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [PK_dbo.Orders] PRIMARY KEY ([Id])
ALTER TABLE [dbo].[Inventories] ADD CONSTRAINT [PK_dbo.Inventories] PRIMARY KEY ([Id])
CREATE UNIQUE INDEX [IDX_CreditRisk_Name] ON [dbo].[CreditRisks]([LastName], [FirstName])
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [FK_dbo.Orders_dbo.Customers_CustomerId] FOREIGN KEY ([CustomerId]) REFERENCES [dbo].[Customers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Orders] ADD CONSTRAINT [FK_dbo.Orders_dbo.Inventories_CarId] FOREIGN KEY ([CarId]) REFERENCES [dbo].[Inventories] ([Id])
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202009231923570_Final', N'AutoLotDAL.Migrations.Configuration',  0x1F8B0800000000000400ED5B5F4FE436107FAFD4EF10E5B1E236C0A9D215EDDE895BA05A957F62E1746FC824B38B758993B31DCAAAEA27EB433F52BF4227FF1D3BD9641758E0847881D8F39BB1FD9BF16426FCF7CFBFC34FF7816FDD01173464237B67B06D5BC0DCD0A36C3EB263397BF7C1FEF4F1E79F86875E706F7D29E6BD4FE6A1241323FB56CA68CF71847B0B01118380BA3C14E14C0EDC307088173ABBDBDBBF393B3B0E20848D589635BC8899A401A47FE09FE390B910C998F827A107BEC89FE3C83445B54E490022222E8CECFD5886C7A13CD83F1E1C1ED9D6BE4F091A31057F665B84B150128926EE5D09984A1EB2F934C207C4BF5C4480F366C417909BBE574DEFBB8AEDDD64154E255840B9B19061B022E0CEFB7C5B1C5D7CADCDB5CB6DC38D3BC40D968B64D5E9E68DEC31078FCA0B2ABED996AE6E6FECF3646A6D77B3A31854725B5635BA5572012993FC6C59E3D897318711835872E26F59E7F18D4FDD3F6071197E033662B1EFAB26A29138567B808FCE791801978B0B98E5864F3CDB72EA728E2E588A2932D982264CBEDFB5AD53544E6E7C2819A02C7E2A430EBF03034E2478E7444AE02CC180740F0DED9AAE23CA854C7E2D5422EFD07B6CEB84DC1F039BCBDB91FD2BBACB11BD07AF78905B71C528FA1ACA481E4397A263B2193D97E8994292202A147DA68C70DC87C44D63CE313E2C4E52B45455CD800FCDFAD7D8FE711844B104EDF0874E45ECE5744F290E7C45B2E7526F547FA3FA73531DAD3D2577749E8A6A769F710F39695B17E0A7C3E29646D925384887AE2BFA1FF130B808FD42A81CB9BE247C0E12171E360E4FC398BBB0A6F7A558ABB95E2AF2E6778DBA8A43E9D6D981431E0CF15A3D0697DEE82E1376876710F2C575E15395C3E86386CB18139A9C66A955A59B3EC4930BAD2D9E5C58BD9627974B5CCD9B4BB1378F6ED47542BE3DF9E5360EFD903FB5927378BBA8D7BBA8578A3CBA8BB786A63E4EBE2F44E8D2D41EDDCB0B5BEACB3B649ED5655876FCB585E129A07BD3081D1AAD18D93BC6BE2D012E636D059C671575D05F0C508C02C01337243EB243605CA14C9A2183329746C4EF589826D733D8247B5F6AD0470E200296C4898EA5F7519DDFE8A6F652891604BB3667E828EC584E1AED7E6A3BD9B6CB6AE5736D856CA04A756BEA14D477EA8C1D800F12AC7D372BDC8C8970896746247426EF1188D66CFB0668D67C0EBD48A6A49F1B605A16B45046A204F0DC883C8D480729888674E44A409E9188FC52D1F993E04E411A153144AB2265C120A55E66105103CAF7A711A62462074871091808B97774882B41D74050C63414E5041AA0CA8B4999D67679E9B4E87165944BA8596F10ACC71DA1201526EBCE5B5F698F5DD0B36F730F96C5BF3E11B0D3EA3E314F015168D87BF5458A507A5B557A77B2DA7B51A3775A8AF4C313124598F32945FBFC8935CD2AF6E377D3D5EBD94186E1B8A2A1AC5D5A5B6A4256903968A349C2E6415AB43A2092DC9024CB1B7B81314D8F2D2DAE566833C387796C850B1632C9EFB540963530D4306386E25CF808D71624813C4D4BD5135F229C364F884F78C35B0EBE19C4016BBF55DAA5950AA00AA23CEE8F5515F954A8EA697F24E5ED4085521E9B584347DB5DE362330ED1C807EABCE8C79AD2491FC0999690D38731ADA26F7C79917C69BD5EFB92254B1F56674A8BDCD3D044CD3055946599E71234620235BF27FD1014A992A7F559D28AD183294B649F862D59F14C95CF9EACC090AC34566348F6A83F4659F95251CA87AF9869464EA84F29B597B9A196030EF37CACFB6B0E2341CBA6D8166ED21DF592E46CBA10128241326130FDEE8F7D8AEBAD269C104667B85359BDD8DEDDDED9D5BE0A79395F683842787EEFCF34365EF6A6C9BE7616B6576C18193D637647B87B4B9ADA8313E6C1FDC8FE2B15DDB326075FAFABFDB84E1E6E59E9BDB467ED6E591371C5E8F718275EE2CBBEF5B75175AE2C5DA7E7FC3876EE3CBA9D46299C877FE61F70B59E5E55B85E7A7AAB7F5DF1C373F48928F5EA19D0901EBEDAE337DBEBA99A4EB7FF7A5D49960EBF9D38F843FAF2BD759387AA7D093C6A491E5F2D97D4C6EE23B97BAD8FFB48985ADBF6F506A6C7E8653EBC7B99D7E837DDABDC58DBE847E94556E5FC4DF70A9F8B2B4B6A85CF499597D051349B037DFB851DEDC2EC1D76647B37219E7316D26ACDC69EFDC4A5EDC44625AD1DA0C66E637BB3B109BCA5B3B66623B24943319CB6779FB353B9466FB2B6A14A01F54535227562D55B024FBBBC153A8D66F5087D5FF98F210C3C82CE2B88E4FF8718B835AF2FE74CD82C2C0290665131454FE140120F43C23E9774465C89C32E08917ED7F685F8314E390C6EC09BB0B35862EE824B86E0C6AFF1230962CBF4A7EDD4BACDC3B328FD42EC31968066525C029CB1CF31F5BDD2EEA386C4AA0522898E79B6969CA54CB2B6F9A2443A0D594FA07CFBCAA07E0941E423983863537207EBD87625E018E6C45D1445C07690EE83A86FFBF08092392781C8312A79FC1339EC05F71FFF07276CB97E38370000 , N'6.4.4')

